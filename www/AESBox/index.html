<!DOCTYPE html>
<html>
<head>
    <title>CryptoJS Decryption</title>
    <script type="text/javascript" src="./crypto-js-4.1.1/aes.js"></script>
</head>
<body>
    <h1>CryptoJS Decryption</h1>
    <p>Please enter the password to decrypt the hidden value:</p>
    <input type="password" id="password" />
    <input type="submit" value="Decrypt" onclick="decrypt();" />
    <script type="text/javascript">
    function cryptotest() {
        var CryptoJS = require("crypto-js");

        var key = CryptoJS.enc.Utf8.parse('123456');
        var iv  = CryptoJS.enc.Utf8.parse('100000');
        var text = "My Name Is NghÄ©a";


        var encryptedCP = CryptoJS.AES.encrypt(text, key, { iv: iv });
        var decryptedWA = CryptoJS.AES.decrypt(encryptedCP, key, { iv: iv});
        var cryptText = encryptedCP.toString();
        console.log(cryptText);
        console.log(decryptedWA.toString(CryptoJS.enc.Utf8));

        //Decode from text    
        var cipherParams = CryptoJS.lib.CipherParams.create({
             ciphertext: CryptoJS.enc.Base64.parse(cryptText )
        });
        var decryptedFromText = CryptoJS.AES.decrypt(cipherParams, key, { iv: iv});
        console.log(decryptedFromText.toString(CryptoJS.enc.Utf8));
    }


        function decrypt() {
            var password = document.getElementById('password').value;
            alert('Password: ' + password);
            console.log('Password: ' + password));

            var encrypted = 'U2FsdGVkX19XzumV1+uDVNtgx3Y0/7ZB3QtqKDqxFE2CyCa8RGTEjTtR19RIwNHeyFhYlR+tx7sTIOv5NVcEfg==';
            var decrypted = CryptoJS.AES.decrypt(encrypted, password);
            var decoded = CryptoJS.enc.Utf8.stringify(decrypted);
            alert('The decoded value is: ' + decoded);
            // document.getElementById('password').value = decoded;
        }
    </script>
</body>
</html>
